import{am as dt,an as ke,ao as ct,q as R,d as e,j as K,x as ft,k as V,y as ie,J as Y,c as I,o as p,w as m,m as M,h as A,b as f,K as Z,f as ee,ap as mt,s as te,v as pe,B as N,aq as pt,H as Se,g as k,a as n,e as B,t as E,l as De,F as G,r as W,n as Q,G as vt,T as Ue,z as Ve,Q as He,M as me,a4 as ht,u as gt,C as yt,ar as xt,A as _t}from"./app-Cgyqco5e.js";import{_ as bt}from"./AppLayout-DB4VioH2.js";import{_ as wt,a as kt}from"./CardContent.vue_vue_type_script_setup_true_lang-VjQfOjPI.js";import{P as J,_ as X,c as ae}from"./index-CfrgMgmj.js";import{c as ue,b as ve,i as Ct,X as de,u as Ne,d as Ge}from"./Teleport-BUs9OIgV.js";import{A as $t}from"./arrow-right-CFQFDjoq.js";import{S as qt}from"./sparkles-CJkVi9fV.js";import{S as St}from"./shield-check-DZ51apiR.js";import{c as ce}from"./createLucideIcon-DwRVYtr5.js";import{U as Vt}from"./users-DMGSewa1.js";import{a as Et,b as It,c as Lt,d as le,_ as zt}from"./SelectValue.vue_vue_type_script_setup_true_lang-CIalDINk.js";import{_ as ne}from"./Label.vue_vue_type_script_setup_true_lang-CBumIBXi.js";import{j as Ee,n as Bt,s as We,u as Ft,q as Tt,C as Ce,e as jt,f as Rt,g as At}from"./UserDropdown-Z_lunlqk.js";import{h as Ie,j as Kt}from"./FlashMessage-BkxJg_3D.js";import{_ as Le,a as ze,b as Be}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-BbiUAi0d.js";import{d as Mt}from"./debounce-DdQbsw7X.js";import{M as Me}from"./map-pin-B1SYAlYE.js";import{i as $e}from"./nullish-DiobDxmp.js";import{u as Ot}from"./useFormControl-DHtmIYDU.js";import{u as Pt}from"./useKbd-kRIii9yh.js";import{V as Dt}from"./VisuallyHiddenInput-CwksgtMT.js";import{b as Qe,h as be,g as Ut,u as Ht,r as se,s as Nt}from"./useForwardExpose-43cBTImL.js";import{_ as Xe}from"./index-B_Hr3V4-.js";import{C as Gt}from"./circle-help-CeOlXg8d.js";import{I as Wt}from"./image-f3shAxxL.js";import{A as Qt}from"./arrow-up-DUUT2D-5.js";import"./useNonce-D95asP_8.js";import"./chevron-down-B-OnXKJy.js";import"./package-DPeVUDVU.js";import"./loader-circle-BHkOripO.js";import"./Input.vue_vue_type_script_setup_true_lang-DX9VCuGY.js";var Xt=/\s/;function Jt(t){for(var l=t.length;l--&&Xt.test(t.charAt(l)););return l}var Yt=/^\s+/;function Zt(t){return t&&t.slice(0,Jt(t)+1).replace(Yt,"")}var Oe=NaN,ea=/^[-+]0x[0-9a-f]+$/i,ta=/^0b[01]+$/i,aa=/^0o[0-7]+$/i,sa=parseInt;function Pe(t){if(typeof t=="number")return t;if(dt(t))return Oe;if(ke(t)){var l=typeof t.valueOf=="function"?t.valueOf():t;t=ke(l)?l+"":l}if(typeof t!="string")return t===0?t:+t;t=Zt(t);var s=ta.test(t);return s||aa.test(t)?sa(t.slice(2),s?2:8):ea.test(t)?Oe:+t}var we=function(){return ct.Date.now()},oa="Expected a function",la=Math.max,na=Math.min;function ra(t,l,s){var i,d,r,o,a,u,h=0,_=!1,c=!1,C=!0;if(typeof t!="function")throw new TypeError(oa);l=Pe(l)||0,ke(s)&&(_=!!s.leading,c="maxWait"in s,r=c?la(Pe(s.maxWait)||0,l):r,C="trailing"in s?!!s.trailing:C);function $(T){var z=i,P=d;return i=d=void 0,h=T,o=t.apply(P,z),o}function y(T){return h=T,a=setTimeout(b,l),_?$(T):o}function q(T){var z=T-u,P=T-h,D=l-z;return c?na(D,r-P):D}function x(T){var z=T-u,P=T-h;return u===void 0||z>=l||z<0||c&&P>=r}function b(){var T=we();if(x(T))return v(T);a=setTimeout(b,q(T))}function v(T){return a=void 0,C&&i?$(T):(i=d=void 0,o)}function L(){a!==void 0&&clearTimeout(a),h=0,i=u=d=a=void 0}function O(){return a===void 0?o:v(we())}function F(){var T=we(),z=x(T);if(i=arguments,d=this,u=T,z){if(a===void 0)return y(u);if(c)return clearTimeout(a),a=setTimeout(b,l),$(u)}return a===void 0&&(a=setTimeout(b,l)),o}return F.cancel=L,F.flush=O,F}/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ce("ChevronsUpDownIcon",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ce("LayoutListIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ce("PackageSearchIcon",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=ce("SearchXIcon",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ce("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function fa(t,l,s){const i=t.findIndex(a=>$e(a,l)),d=t.findIndex(a=>$e(a,s));if(i===-1||d===-1)return[];const[r,o]=[i,d].sort((a,u)=>a-u);return t.slice(r,o+1)}function ma(t){const l=R(()=>e(t)),s=R(()=>new Intl.Collator("en",{usage:"search",...l.value}));return{startsWith:(o,a)=>a.length===0?!0:(o=o.normalize("NFC"),a=a.normalize("NFC"),s.value.compare(o.slice(0,a.length),a)===0),endsWith:(o,a)=>a.length===0?!0:(o=o.normalize("NFC"),a=a.normalize("NFC"),s.value.compare(o.slice(-a.length),a)===0),contains:(o,a)=>{if(a.length===0)return!0;o=o.normalize("NFC"),a=a.normalize("NFC");let u=0;const h=a.length;for(;u+h<=o.length;u++){const _=o.slice(u,u+h);if(s.value.compare(a,_)===0)return!0}return!1}}}function pa(t,l,s){return t===void 0?!1:Array.isArray(t)?t.some(i=>re(i,l,s)):re(t,l,s)}function re(t,l,s){return t===void 0||l===void 0?!1:typeof t=="string"?t===l:typeof s=="function"?s(t,l):typeof s=="string"?(t==null?void 0:t[s])===(l==null?void 0:l[s]):$e(t,l)}const[Fe,va]=ue("ListboxRoot");var ha=K({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{expose:l,emit:s}){const i=t,d=s,{multiple:r,highlightOnHover:o,orientation:a,disabled:u,selectionBehavior:h,dir:_}=ft(i),{getItems:c}=Ee({isProvider:!0}),{handleTypeaheadSearch:C}=Bt(),{primitiveElement:$,currentElement:y}=We(),q=Pt(),x=Ft(_),b=Ot(y),v=V(),L=V(!1),O=V(!0),F=Qe(i,"modelValue",d,{defaultValue:i.defaultValue??(r.value?[]:void 0),passive:i.modelValue===void 0,deep:!0});function T(g){if(L.value=!0,i.multiple){const w=Array.isArray(F.value)?[...F.value]:[],S=w.findIndex(j=>re(j,g,i.by));i.selectionBehavior==="toggle"?(S===-1?w.push(g):w.splice(S,1),F.value=w):(F.value=[g],v.value=g)}else i.selectionBehavior==="toggle"&&re(F.value,g,i.by)?F.value=void 0:F.value=g;setTimeout(()=>{L.value=!1},1)}const z=V(null),P=V(null),D=V(!1),ge=V(!1),Te=be(),ye=be(),je=be();function xe(){return c().map(g=>g.ref).filter(g=>g.dataset.disabled!=="")}function U(g,w=!0){if(!g)return;z.value=g,O.value&&z.value.focus(),w&&z.value.scrollIntoView({block:"nearest"});const S=c().find(j=>j.ref===g);d("highlight",S)}function at(g){if(D.value)je.trigger(g);else{const w=c().find(S=>re(S.value,g,i.by));w&&(z.value=w.ref,U(w.ref))}}function st(g){z.value&&z.value.isConnected&&(g.preventDefault(),g.stopPropagation(),ge.value||z.value.click())}function ot(g){if(O.value){if(L.value=!0,D.value)ye.trigger(g);else{const w=g.altKey||g.ctrlKey||g.metaKey;if(w&&g.key==="a"&&r.value){const S=c(),j=S.map(H=>H.value);F.value=[...j],g.preventDefault(),U(S[S.length-1].ref)}else if(!w){const S=C(g.key,c());S&&U(S)}}setTimeout(()=>{L.value=!1},1)}}function lt(){ge.value=!0}function nt(){Y(()=>{ge.value=!1})}function Re(){Y(()=>{const g=new KeyboardEvent("keydown",{key:"PageUp"});Ae(g)})}function _e(g){const w=z.value;w!=null&&w.isConnected&&(P.value=w),z.value=null,d("leave",g)}function rt(g){var S,j;const w=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((S=g.currentTarget)==null||S.dispatchEvent(w),d("entryFocus",w),!w.defaultPrevented)if(P.value)U(P.value);else{const H=(j=xe())==null?void 0:j[0];U(H)}}function Ae(g){const w=Tt(g,a.value,x.value);if(!w)return;let S=xe();if(z.value){if(w==="last")S.reverse();else if(w==="prev"||w==="next"){w==="prev"&&S.reverse();const j=S.indexOf(z.value);S=S.slice(j+1)}it(g,S[0])}if(S.length){const j=!z.value&&w==="prev"?S.length-1:0;U(S[j])}if(D.value)return ye.trigger(g)}function it(g,w){var j;if(!(D.value||i.selectionBehavior!=="replace"||!r.value||!Array.isArray(F.value)||(g.altKey||g.ctrlKey||g.metaKey)&&!g.shiftKey)&&g.shiftKey){const H=c().filter(oe=>oe.ref.dataset.disabled!=="");let fe=(j=H.find(oe=>oe.ref===w))==null?void 0:j.value;if(g.key===q.END?fe=H[H.length-1].value:g.key===q.HOME&&(fe=H[0].value),!fe||!v.value)return;const ut=fa(H.map(oe=>oe.value),v.value,fe);F.value=ut}}async function Ke(g){if(await Y(),D.value)Te.trigger(g);else{const w=xe(),S=w.find(j=>j.dataset.state==="checked");S?U(S):w.length&&U(w[0])}}return ie(F,()=>{L.value||Y(()=>{Ke()})},{immediate:!0,deep:!0}),l({highlightedElement:z,highlightItem:at,highlightFirstItem:Re,highlightSelected:Ke,getItems:c}),va({modelValue:F,onValueChange:T,multiple:r,orientation:a,dir:x,disabled:u,highlightOnHover:o,highlightedElement:z,isVirtual:D,virtualFocusHook:Te,virtualKeydownHook:ye,virtualHighlightHook:je,by:i.by,firstValue:v,selectionBehavior:h,focusable:O,onLeave:_e,onEnter:rt,changeHighlight:U,onKeydownEnter:st,onKeydownNavigation:Ae,onKeydownTypeAhead:ot,onCompositionStart:lt,onCompositionEnd:nt,highlightFirstItem:Re}),(g,w)=>(p(),I(e(J),{ref_key:"primitiveElement",ref:$,as:g.as,"as-child":g.asChild,dir:e(x),"data-disabled":e(u)?"":void 0,onPointerleave:_e,onFocusout:w[0]||(w[0]=async S=>{const j=S.relatedTarget||S.target;await Y(),z.value&&e(y)&&!e(y).contains(j)&&_e(S)})},{default:m(()=>[M(g.$slots,"default",{modelValue:e(F)}),e(b)&&g.name?(p(),I(e(Dt),{key:0,name:g.name,value:e(F),disabled:e(u),required:g.required},null,8,["name","value","disabled","required"])):A("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),ga=ha,ya=K({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const{CollectionSlot:l}=Ee(),s=Fe(),i=Ut(!1,10);return(d,r)=>(p(),I(e(l),null,{default:m(()=>[f(e(J),{role:"listbox",as:d.as,"as-child":d.asChild,tabindex:e(s).focusable.value?e(s).highlightedElement.value?"-1":"0":"-1","aria-orientation":e(s).orientation.value,"aria-multiselectable":!!e(s).multiple.value,"data-orientation":e(s).orientation.value,onMousedown:r[0]||(r[0]=ee(o=>i.value=!0,["left"])),onFocus:r[1]||(r[1]=o=>{e(i)||e(s).onEnter(o)}),onKeydown:[r[2]||(r[2]=Z(o=>{e(s).orientation.value==="vertical"&&(o.key==="ArrowLeft"||o.key==="ArrowRight")||e(s).orientation.value==="horizontal"&&(o.key==="ArrowUp"||o.key==="ArrowDown")||(o.preventDefault(),e(s).focusable.value&&e(s).onKeydownNavigation(o))},["down","up","left","right","home","end"])),Z(e(s).onKeydownEnter,["enter"]),e(s).onKeydownTypeAhead]},{default:m(()=>[M(d.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),xa=ya,_a=K({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(t,{emit:l}){const s=t,d=Qe(s,"modelValue",l,{defaultValue:"",passive:s.modelValue===void 0}),r=Fe(),{primitiveElement:o,currentElement:a}=We(),u=R(()=>s.disabled||r.disabled.value||!1),h=V();return mt(()=>{var _;return h.value=(_=r.highlightedElement.value)==null?void 0:_.id}),te(()=>{r.focusable.value=!1,setTimeout(()=>{var _;s.autoFocus&&((_=a.value)==null||_.focus())},1)}),pe(()=>{r.focusable.value=!0}),(_,c)=>(p(),I(e(J),{ref_key:"primitiveElement",ref:o,as:_.as,"as-child":_.asChild,value:e(d),disabled:u.value?"":void 0,"data-disabled":u.value?"":void 0,"aria-disabled":u.value??void 0,"aria-activedescendant":h.value,type:"text",onKeydown:[Z(ee(e(r).onKeydownNavigation,["prevent"]),["down","up","home","end"]),Z(e(r).onKeydownEnter,["enter"])],onInput:c[0]||(c[0]=C=>{d.value=C.target.value,e(r).highlightFirstItem()}),onCompositionstart:e(r).onCompositionStart,onCompositionend:e(r).onCompositionEnd},{default:m(()=>[M(_.$slots,"default",{modelValue:e(d)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),ba=_a;const[wa,ka]=ue("ListboxGroup");var Ca=K({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const l=t,s=ve(void 0,"reka-listbox-group");return ka({id:s}),(i,d)=>(p(),I(e(J),N({role:"group"},l,{"aria-labelledby":e(s)}),{default:m(()=>[M(i.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),$a=Ca,qa=K({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const l=t,s=wa({id:""});return(i,d)=>(p(),I(e(J),N(l,{id:e(s).id}),{default:m(()=>[M(i.$slots,"default")]),_:3},16,["id"]))}}),Sa=qa;const Va="listbox.select",[Qo,Ea]=ue("ListboxItem");var Ia=K({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(t,{emit:l}){const s=t,i=l,d=ve(void 0,"reka-listbox-item"),{CollectionItem:r}=Ee(),{forwardRef:o,currentElement:a}=Ht(),u=Fe(),h=R(()=>a.value===u.highlightedElement.value),_=R(()=>pa(u.modelValue.value,s.value,u.by)),c=R(()=>u.disabled.value||s.disabled);async function C(y){i("select",y),!(y!=null&&y.defaultPrevented)&&!c.value&&y&&(u.onValueChange(s.value),u.changeHighlight(a.value))}function $(y){const q={originalEvent:y,value:s.value};Ct(Va,C,q)}return Ea({isSelected:_}),(y,q)=>(p(),I(e(r),{value:y.value},{default:m(()=>[pt([h.value,_.value],()=>f(e(J),N({id:e(d)},y.$attrs,{ref:e(o),role:"option",tabindex:e(u).focusable.value?h.value?"0":"-1":-1,"aria-selected":_.value,as:y.as,"as-child":y.asChild,disabled:c.value?"":void 0,"data-disabled":c.value?"":void 0,"data-highlighted":h.value?"":void 0,"data-state":_.value?"checked":"unchecked",onClick:$,onKeydown:Z(ee($,["prevent"]),["space"]),onPointermove:q[0]||(q[0]=()=>{e(u).highlightedElement.value!==e(a)&&e(u).highlightOnHover.value&&!e(u).focusable.value&&e(u).changeHighlight(e(a),!1)})}),{default:m(()=>[M(y.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),q,1)]),_:3},8,["value"]))}}),La=Ia;const za={key:0,"aria-labelledby":"hero-heading",class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Ba={class:"flex flex-col lg:flex-row items-center gap-8"},Fa={class:"flex-1 text-center lg:text-left"},Ta={class:"space-y-4"},ja={class:"text-base text-gray-500 max-w-xl mx-auto lg:mx-0 dark:text-gray-400"},Ra={class:"text-gray-900 dark:text-white"},Aa={class:"mt-6 flex flex-wrap items-center gap-3 justify-center lg:justify-start"},Ka={class:"flex-shrink-0 lg:w-80"},Ma={class:"rounded-lg p-4"},Oa={class:"grid gap-3",role:"list"},Pa={class:"text-sm font-medium text-gray-900 dark:text-white"},Da={class:"text-xs text-gray-500 mt-0.5 dark:text-gray-400"},Ua={__name:"HeroSection",setup(t){const s=Se().props.name,i=V(!0),d=()=>{i.value=!1,localStorage.setItem("heroCardDismissed","true")},r=[{icon:qt,title:"Gratuit",description:"Pour une association ou un particulier"},{icon:St,title:"Réservation sécurisée",description:"Processus simple et sûr"},{icon:ia,title:"Gestion d'inventaire",description:"Suivez votre matériel"},{icon:Vt,title:"Communauté active",description:"Réseau associatif"}];return(o,a)=>(p(),I(Ue,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:m(()=>[i.value?(p(),k("section",za,[a[7]||(a[7]=n("div",{class:"absolute inset-0 rounded-2xl"},null,-1)),f(e(wt),{class:"relative border-none bg-gradient-to-br from-violet-100 via-blue-50 to-background dark:from-violet-950 dark:via-blue-950 dark:to-background"},{default:m(()=>[f(e(X),{variant:"ghost",size:"icon",class:"absolute right-3 top-3 hover:bg-white/80",onClick:d},{default:m(()=>[f(e(de),{class:"h-4 w-4"}),a[0]||(a[0]=n("span",{class:"sr-only"},"Fermer la bannière d'accueil",-1))]),_:1}),f(e(kt),{class:"p-6"},{default:m(()=>[n("div",Ba,[n("div",Fa,[n("div",Ta,[a[2]||(a[2]=n("h1",{id:"hero-heading",class:"text-2xl sm:text-3xl font-bold font-title text-gray-900 leading-tight dark:text-white"},[n("span",{class:"inline-block"},[B(" Location et prêt de matériel "),n("span",{class:"bg-gradient-to-r from-violet-600 to-blue-600 bg-clip-text text-transparent whitespace-nowrap dark:from-violet-400 dark:to-blue-400"},"événementiel")]),n("span",{class:"block text-lg sm:text-xl mt-2 text-gray-600 font-medium dark:text-gray-400"}," entre associations et particuliers ")],-1)),n("p",ja,[n("strong",Ra,E(e(s)),1),a[1]||(a[1]=B(" facilite la location de matériel entre associations et particuliers. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements. La création de votre inventaire ne vous engage pas à rendre votre matériel disponible publiquement sur la plateforme. Si vous choisissez de le proposer à la location, vous gardez toujours la liberté d’accepter ou de refuser chaque demande de réservation, sans avoir à fournir de justification. ",-1))])]),n("div",Aa,[f(e(De),{href:o.route("how-it-works"),class:"inline-flex items-center px-5 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-violet-600 to-blue-600 text-white hover:from-violet-700 hover:to-blue-700 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-violet-500 dark:from-violet-500 dark:to-blue-500 dark:hover:from-violet-600 dark:hover:to-blue-600"},{default:m(()=>[a[3]||(a[3]=B(" Comment ça marche ? ",-1)),f(e($t),{class:"ml-2 h-4 w-4"})]),_:1},8,["href"]),f(e(X),{variant:"outline",as:"a",href:o.route("discover"),class:"text-sm border-violet-200 text-violet-700 hover:text-violet-500 hover:bg-violet-50 dark:border-violet-800 dark:text-violet-300 dark:hover:bg-violet-900"},{default:m(()=>[...a[4]||(a[4]=[B(" Découvrir la plateforme ",-1)])]),_:1},8,["href"])])]),a[6]||(a[6]=n("div",{class:"hidden lg:block w-px h-32 bg-gradient-to-b from-violet-200 to-blue-200 self-center dark:from-violet-800 dark:to-blue-800"},null,-1)),n("div",Ka,[n("div",Ma,[a[5]||(a[5]=n("h2",{class:"text-sm font-medium text-gray-900 mb-4 dark:text-white"}," Avantages de la plateforme ",-1)),n("ul",Oa,[(p(),k(G,null,W(r,u=>n("li",{key:u.title,class:"flex items-start gap-3 group"},[n("div",{class:Q(["rounded-md bg-gradient-to-br from-violet-100 to-blue-100 p-2 group-hover:from-violet-200 group-hover:to-blue-200 transition-colors duration-200 dark:from-violet-900 dark:to-blue-900",{"from-violet-200 to-blue-200 dark:from-violet-800 dark:to-blue-800":u.title==="Gratuit"}])},[(p(),I(vt(u.icon),{class:"w-4 h-4 text-violet-600 dark:text-violet-400"}))],2),n("div",null,[n("h3",Pa,E(u.title),1),n("p",Da,E(u.description),1)])])),64))])])])])]),_:1})]),_:1})])):A("",!0)]),_:1}))}},Ha={class:"flex items-center border rounded-lg shadow-md bg-background"},Na={class:"pl-3 text-muted-foreground"},Ga=["onKeydown"],Wa={__name:"SearchInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","search:submit"],setup(t,{emit:l}){const s=t,i=l,d=V(null),r=R({get(){return s.modelValue},set(u){i("update:modelValue",u)}}),o=()=>{r.value="",Y(()=>{var u;(u=d.value)==null||u.focus()})},a=()=>{i("search:submit",r.value)};return(u,h)=>(p(),k("div",Ha,[n("span",Na,[f(e(Ie),{class:"h-5 w-5"})]),Ve(n("input",{ref_key:"inputRef",ref:d,"onUpdate:modelValue":h[0]||(h[0]=_=>r.value=_),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Que recherchez-vous ?",onKeydown:Z(ee(a,["prevent"]),["enter"]),autocomplete:"off"},null,40,Ga),[[He,r.value]]),r.value?(p(),k("button",{key:0,onMousedown:ee(o,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[f(e(de),{class:"h-4 w-4"})],32)):A("",!0)]))}},Qa={class:"relative w-full"},Xa={class:"flex items-center border rounded-lg shadow-md bg-background"},Ja={class:"pl-3 text-muted-foreground"},Ya={key:0,class:"py-6 text-center text-sm text-muted-foreground"},Za={key:1,class:"py-6 text-center text-sm text-destructive"},es={key:2,class:"py-6 text-center text-sm text-muted-foreground"},ts={key:3,class:"max-h-[300px] overflow-y-auto"},as=["onClick"],ss={class:"flex flex-col"},os={class:"text-xs text-muted-foreground"},ls={__name:"CityInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","selected"],setup(t,{emit:l}){const s=t,i=l,d=V(s.modelValue),r=V([]),o=V(!1),a=V(!1),u=V(""),h=V(null),_=Mt(async $=>{if($.length<3){r.value=[],o.value=!1,u.value="";return}a.value=!0,o.value=!0,u.value="";try{const y=await me.get(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent($)}&type=municipality&limit=5`);if(!y.data.features||y.data.features.length===0){r.value=[];return}r.value=y.data.features.map(q=>({id:q.properties.id,name:q.properties.city,postcode:q.properties.postcode,coordinates:{lat:q.geometry.coordinates[1],lng:q.geometry.coordinates[0]}}))}catch(y){console.error("Error fetching city suggestions:",y),r.value=[],y.value="Erreur lors de la recherche de villes. Veuillez réessayer."}finally{a.value=!1}},150);ie(d,$=>{i("update:modelValue",$),$.length>=3&&$!==h.value?_($):(r.value=[],o.value=!1)});const c=$=>{h.value=$.name+" ("+$.postcode+")",d.value=h.value,u.value="";const y={name:$.name,lat:$.coordinates.lat,lng:$.coordinates.lng,postcode:$.postcode,departement:$.postcode.substring(0,2)};i("selected",y),o.value=!1},C=()=>{d.value="",r.value=[],o.value=!1,u.value="",h.value=null,i("update:modelValue",""),i("selected",null)};return($,y)=>(p(),k("div",Qa,[f(e(Be),{open:o.value,"onUpdate:open":y[1]||(y[1]=q=>o.value=q)},{default:m(()=>[f(e(Le),{asChild:""},{default:m(()=>[n("div",Xa,[n("span",Ja,[f(e(Me),{class:"h-5 w-5"})]),Ve(n("input",{"onUpdate:modelValue":y[0]||(y[0]=q=>d.value=q),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Ajouter une localisation"},null,512),[[He,d.value]]),d.value?(p(),k("button",{key:0,onMousedown:ee(C,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[f(e(de),{class:"h-4 w-4"})],32)):A("",!0)])]),_:1}),f(e(ze),{class:"w-full p-0",align:"start"},{default:m(()=>[a.value?(p(),k("div",Ya,[...y[2]||(y[2]=[n("div",{class:"flex items-center justify-center"},[n("div",{class:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),n("span",{class:"ml-2"},"Recherche en cours...")],-1)])])):u.value?(p(),k("div",Za,E(u.value),1)):r.value.length===0?(p(),k("div",es," Aucun résultat trouvé ")):(p(),k("div",ts,[(p(!0),k(G,null,W(r.value,q=>(p(),k("div",{key:q.id,class:"flex items-center gap-2 px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground",onClick:x=>c(q)},[f(e(Me),{class:"h-4 w-4 text-muted-foreground"}),n("div",ss,[n("span",null,E(q.name),1),n("span",os,E(q.postcode),1)])],8,as))),128))]))]),_:1})]),_:1},8,["open"])]))}},Ye=K({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{emit:l}){const s=t,i=l,d=se(s,"class"),r=Ne(d,i),o=V(new Map),a=V(new Map),{contains:u}=ma({sensitivity:"base"}),h=ht({search:"",filtered:{count:0,items:new Map,groups:new Set}});function _(){if(!h.search){h.filtered.count=o.value.size;return}h.filtered.groups=new Set;let c=0;for(const[C,$]of o.value){const y=u($,h.search);h.filtered.items.set(C,y?1:0),y&&c++}for(const[C,$]of a.value)for(const y of $)if(h.filtered.items.get(y)>0){h.filtered.groups.add(C);break}h.filtered.count=c}return ie(()=>h.search,()=>{_()}),us({allItems:o,allGroups:a,filterState:h}),(c,C)=>(p(),I(e(ga),N({"data-slot":"command"},e(r),{class:e(ae)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",s.class)}),{default:m(()=>[M(c.$slots,"default")]),_:3},16,["class"]))}}),Ze=K({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,s=se(l,"class"),{filterState:i}=he(),d=R(()=>!!i.search&&i.filtered.count===0);return(r,o)=>d.value?(p(),I(e(J),N({key:0,"data-slot":"command-empty"},e(s),{class:e(ae)("py-6 text-center text-sm",l.class)}),{default:m(()=>[M(r.$slots,"default")]),_:3},16,["class"])):A("",!0)}}),et=K({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(t){const l=t,s=se(l,"class"),{allGroups:i,filterState:d}=he(),r=ve(),o=R(()=>d.search?d.filtered.groups.has(r):!0);return cs({id:r}),te(()=>{i.value.has(r)||i.value.set(r,new Set)}),pe(()=>{i.value.delete(r)}),(a,u)=>(p(),I(e($a),N(e(s),{id:e(r),"data-slot":"command-group",class:e(ae)("text-foreground overflow-hidden p-1",l.class),hidden:o.value?void 0:!0}),{default:m(()=>[t.heading?(p(),I(e(Sa),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:m(()=>[B(E(t.heading),1)]),_:1})):A("",!0),M(a.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),ns={"data-slot":"command-input-wrapper",class:"flex h-12 items-center gap-2 border-b px-3"},tt=K({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,s=se(l,"class"),i=Ge(s),{filterState:d}=he();return(r,o)=>(p(),k("div",ns,[f(e(Ie),{class:"size-4 shrink-0 opacity-50"}),f(e(ba),N({...e(i),...r.$attrs},{modelValue:e(d).search,"onUpdate:modelValue":o[0]||(o[0]=a=>e(d).search=a),"data-slot":"command-input","auto-focus":"",class:e(ae)("placeholder:text-muted-foreground flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",l.class)}),null,16,["modelValue","class"])]))}}),qe=K({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(t,{emit:l}){const s=t,i=l,d=se(s,"class"),r=Ne(d,i),o=ve(),{filterState:a,allItems:u,allGroups:h}=he(),_=ds(),c=R(()=>{if(a.search){const y=a.filtered.items.get(o);return y===void 0?!0:y>0}else return!0}),C=V(),$=Nt(C);return te(()=>{var q,x;if(!($.value instanceof HTMLElement))return;u.value.set(o,$.value.textContent??((q=s.value)==null?void 0:q.toString())??"");const y=_==null?void 0:_.id;y&&(h.value.has(y)?(x=h.value.get(y))==null||x.add(o):h.value.set(y,new Set([o])))}),pe(()=>{u.value.delete(o)}),(y,q)=>c.value?(p(),I(e(La),N({key:0},e(r),{id:e(o),ref_key:"itemRef",ref:C,"data-slot":"command-item",class:e(ae)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-3 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s.class),onSelect:q[0]||(q[0]=()=>{e(a).search=""})}),{default:m(()=>[M(y.$slots,"default")]),_:3},16,["id","class"])):A("",!0)}}),rs={role:"presentation"},is=K({__name:"CommandList",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,s=se(l,"class"),i=Ge(s);return(d,r)=>(p(),I(e(xa),N({"data-slot":"command-list"},e(i),{class:e(ae)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",l.class)}),{default:m(()=>[n("div",rs,[M(d.$slots,"default")])]),_:3},16,["class"]))}}),[he,us]=ue("Command"),[ds,cs]=ue("CommandGroup"),fs={class:"truncate"},ms={class:"flex items-center justify-between border-b p-2"},ps={class:"text-sm text-muted-foreground"},vs={key:0},hs={key:1},gs={key:0,class:"mt-2 flex flex-wrap gap-1"},ys=["onClick"],xs={__name:"OrganizationFilter",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:l}){const s=t,i=l,d=V(!1),r=V(""),o=V([]),a=V([]),u=V(!1),h=R(()=>s.modelValue.map(x=>a.value.find(b=>b.id===x)).filter(Boolean)),_=async x=>{if(x.length===0)return;const b=x.filter(v=>!a.value.some(L=>L.id===v));if(b.length!==0)try{const v=await me.get(route("api.organizations.index",{"ids[]":b}));a.value.push(...v.data.data)}catch(v){console.error("Error fetching organizations by IDs:",v)}};te(()=>{q(),_(s.modelValue)}),ie(()=>s.modelValue,x=>{_(x)},{deep:!0});const c=x=>s.modelValue.includes(x.id),C=(x,b)=>{b&&b.preventDefault();const v=[...s.modelValue],L=v.indexOf(x.id);L>-1?v.splice(L,1):v.push(x.id),i("update:modelValue",v)},$=x=>{C(x,null)},y=()=>{i("update:modelValue",[])},q=ra(async()=>{u.value=!0;try{const x=await me.get(route("api.organizations.index",{search:r.value}));o.value=x.data.data,x.data.data.forEach(b=>{a.value.some(v=>v.id===b.id)||a.value.push(b)})}catch(x){console.error("Error searching organizations:",x)}finally{u.value=!1}},300);return(x,b)=>(p(),k("div",null,[f(e(Be),{open:d.value,"onUpdate:open":b[1]||(b[1]=v=>d.value=v)},{default:m(()=>[f(e(Le),{asChild:""},{default:m(()=>[f(e(X),{variant:"outline",role:"combobox","aria-expanded":d.value,class:"w-full justify-between"},{default:m(()=>[n("span",fs,E(h.value.length>0?h.value.map(v=>v.name).join(", "):"Sélectionner une ou plusieurs organisations"),1),f(e(Je),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),f(e(ze),{class:"w-[--radix-popover-trigger-width] p-0"},{default:m(()=>[f(e(Ye),{"filter-function":v=>v},{default:m(()=>[n("div",ms,[n("p",ps,E(h.value.length)+" sélectionnée(s) ",1),h.value.length>0?(p(),I(e(X),{key:0,variant:"ghost",size:"sm",onClick:y},{default:m(()=>[...b[2]||(b[2]=[B(" Effacer ",-1)])]),_:1})):A("",!0)]),f(e(tt),{modelValue:r.value,"onUpdate:modelValue":[b[0]||(b[0]=v=>r.value=v),e(q)],placeholder:"Rechercher une organisation..."},null,8,["modelValue","onUpdate:modelValue"]),f(e(Ze),null,{default:m(()=>[u.value?(p(),k("span",vs,"Chargement...")):(p(),k("span",hs,"Aucune organisation trouvée."))]),_:1}),f(e(et),null,{default:m(()=>[(p(!0),k(G,null,W(o.value,v=>(p(),I(e(qe),{key:v.id,value:v.name,onSelect:L=>C(v,L)},{default:m(()=>[f(e(Ce),{class:Q(["mr-2 h-4 w-4",c(v)?"opacity-100":"opacity-0"])},null,8,["class"]),B(" "+E(v.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1},8,["filter-function"])]),_:1})]),_:1},8,["open"]),h.value.length>0?(p(),k("div",gs,[(p(!0),k(G,null,W(h.value,v=>(p(),I(e(Xe),{key:`selected-${v.id}`,variant:"secondary"},{default:m(()=>[B(E(v.name)+" ",1),n("button",{type:"button",class:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:L=>$(v)},[f(e(de),{class:"h-3 w-3 text-muted-foreground hover:text-foreground"})],8,ys)]),_:2},1024))),128))])):A("",!0)]))}},_s={class:"truncate"},bs={class:"flex items-center justify-between border-b p-2"},ws={class:"text-sm text-muted-foreground"},ks={key:0},Cs={key:1},$s={key:0,class:"mt-2 flex flex-wrap gap-1"},qs=["onClick"],Ss={__name:"CategoryFilter",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:l}){const s=t,i=l,d=V(!1),r=V(""),o=V([]),a=R(()=>o.value.flatMap(x=>[x,...x.children])),u=V(!1),h=R(()=>s.modelValue.map(x=>a.value.find(b=>b.id===x)).filter(Boolean)),_=async()=>{u.value=!0;try{const x=await me.get("/api/categories");o.value=x.data}catch(x){console.error("Error fetching categories:",x)}finally{u.value=!1}};te(()=>{_()});const c=x=>s.modelValue.includes(x.id),C=(x,b)=>{b&&b.preventDefault();const v=[...s.modelValue],L=v.indexOf(x.id);L>-1?v.splice(L,1):v.push(x.id),i("update:modelValue",v)},$=x=>{C(x,null)},y=()=>{i("update:modelValue",[])},q=(x,b)=>x.filter(v=>{var O;const L=(O=v.children)==null?void 0:O.some(F=>F.name.toLowerCase().includes(b.toLowerCase()));return v.name.toLowerCase().includes(b.toLowerCase())||L});return(x,b)=>(p(),k("div",null,[f(e(Be),{open:d.value,"onUpdate:open":b[1]||(b[1]=v=>d.value=v)},{default:m(()=>[f(e(Le),{asChild:""},{default:m(()=>[f(e(X),{variant:"outline",role:"combobox","aria-expanded":d.value,class:"w-full justify-between"},{default:m(()=>[n("span",_s,E(h.value.length>0?h.value.map(v=>v.name).join(", "):"Sélectionner une ou plusieurs catégories"),1),f(e(Je),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),f(e(ze),{class:"w-[--radix-popover-trigger-width] p-0"},{default:m(()=>[f(e(Ye),{"filter-function":q},{default:m(()=>[n("div",bs,[n("p",ws,E(h.value.length)+" sélectionnée(s) ",1),h.value.length>0?(p(),I(e(X),{key:0,variant:"ghost",size:"sm",onClick:y},{default:m(()=>[...b[2]||(b[2]=[B(" Effacer ",-1)])]),_:1})):A("",!0)]),f(e(tt),{modelValue:r.value,"onUpdate:modelValue":b[0]||(b[0]=v=>r.value=v),placeholder:"Rechercher une catégorie..."},null,8,["modelValue"]),f(e(Ze),null,{default:m(()=>[u.value?(p(),k("span",ks,"Chargement...")):(p(),k("span",Cs,"Aucune catégorie trouvée."))]),_:1}),f(e(is),null,{default:m(()=>[(p(!0),k(G,null,W(o.value,v=>(p(),I(e(et),{key:v.id,heading:v.name},{default:m(()=>[f(e(qe),{value:v.name,onSelect:L=>C(v,L)},{default:m(()=>[f(e(Ce),{class:Q(["mr-2 h-4 w-4",c(v)?"opacity-100":"opacity-0"])},null,8,["class"]),B(" "+E(v.name)+" (toute la catégorie) ",1)]),_:2},1032,["value","onSelect"]),(p(!0),k(G,null,W(v.children,L=>(p(),I(e(qe),{key:L.id,value:L.name,onSelect:O=>C(L,O),class:"pl-8"},{default:m(()=>[f(e(Ce),{class:Q(["mr-2 h-4 w-4",c(L)?"opacity-100":"opacity-0"])},null,8,["class"]),B(" "+E(L.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1032,["heading"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),h.value.length>0?(p(),k("div",$s,[(p(!0),k(G,null,W(h.value,v=>(p(),I(e(Xe),{key:`selected-${v.id}`,variant:"secondary"},{default:m(()=>[B(E(v.name)+" ",1),n("button",{type:"button",class:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:L=>$(v)},[f(e(de),{class:"h-3 w-3 text-muted-foreground hover:text-foreground"})],8,qs)]),_:2},1024))),128))])):A("",!0)]))}},Vs={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Es={class:"relative rounded-xl shadow-xl border border-gray-200/60"},Is={key:0,class:"px-6 pt-6 pb-4"},Ls={class:"px-6 pb-6"},zs={class:"flex flex-col md:flex-row gap-4 p-4"},Bs={class:"flex-1"},Fs={class:"flex-1"},Ts={class:"flex items-end"},js={key:1,class:"h-5 w-5 mr-2"},Rs={class:"px-6 pb-6"},As={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},Ks={class:"space-y-2"},Ms={class:"space-y-2"},Os={class:"space-y-2"},Ps={__name:"SearchSection",props:{filters:{type:Object,default:()=>({})},stats:{type:Object,required:!0}},emits:["searching"],setup(t,{emit:l}){const i=Se().props.auth.user,d=t,r=l,o=V(!1),a=gt({search:d.filters.search||"",radius:d.filters.radius||50,categories:d.filters.categories||[],organizations:d.filters.organizations||[],coordinates:d.filters.coordinates||null,city:d.filters.city||null,postcode:d.filters.postcode||null});ie([()=>a.search,()=>a.radius,()=>a.categories,()=>a.organizations],()=>{u()},{deep:!0});const u=()=>{o.value=!0,r("searching",o.value),a.get(route("home"),{only:["filters","equipments"],preserveScroll:!0,preserveState:!0,onFinish:()=>{o.value=!1,r("searching",o.value)}})},h=_=>{_?(a.city=_.name,a.postcode=_.postcode,a.coordinates={lat:_.lat,lng:_.lng},a.radius=a.radius||5):(a.city=null,a.postcode=null,a.coordinates=null),u()};return(_,c)=>(p(),k("div",{class:Q({"relative mt-8":e(i)})},[n("div",Vs,[n("div",Es,[e(i)?A("",!0):(p(),k("div",Is,[...c[5]||(c[5]=[n("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Trouvez le matériel dont vous avez besoin",-1),n("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Recherchez parmi des milliers d'équipements disponibles près de chez vous.",-1)])])),n("div",Ls,[n("div",zs,[n("div",Bs,[f(e(ne),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:m(()=>[...c[6]||(c[6]=[B("Dans quel secteur ?",-1)])]),_:1}),f(ls,{modelValue:e(a).city,"onUpdate:modelValue":c[0]||(c[0]=C=>e(a).city=C),onSelected:h,placeholder:"Entrez une ville ou un code postal"},null,8,["modelValue"])]),n("div",Fs,[f(e(ne),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:m(()=>[...c[7]||(c[7]=[B("Que recherchez-vous ?",-1)])]),_:1}),f(Wa,{modelValue:e(a).search,"onUpdate:modelValue":c[1]||(c[1]=C=>e(a).search=C),placeholder:"Ex: Vidéoprojecteur, Enceinte, Table...","onSearch:submit":u},null,8,["modelValue"])]),n("div",Ts,[f(e(X),{type:"submit",size:"lg",disabled:o.value,class:"w-full md:w-auto min-w-[140px] bg-primary hover:bg-primary/90 shadow-sm dark:bg-primary dark:hover:bg-primary/90",onClick:u},{default:m(()=>[o.value?(p(),k("span",js,[...c[8]||(c[8]=[n("span",{class:"animate-spin inline-block h-5 w-5 border-[3px] border-current border-t-transparent rounded-full"},null,-1)])])):(p(),I(e(Ie),{key:0,class:"h-5 w-5 mr-2"})),B(" "+E(o.value?"Recherche...":"Rechercher"),1)]),_:1},8,["disabled"])])])]),n("div",Rs,[n("div",As,[n("div",Ks,[f(e(ne),{for:"radius",class:"flex items-center gap-2"},{default:m(()=>[c[10]||(c[10]=B(" Rayon de recherche ",-1)),f(e(Kt),null,{default:m(()=>[f(e(jt),null,{default:m(()=>[f(e(Rt),null,{default:m(()=>[f(e(Gt),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),f(e(At),null,{default:m(()=>[...c[9]||(c[9]=[n("p",null,"Distance maximale de recherche",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),f(e(zt),{modelValue:e(a).radius,"onUpdate:modelValue":[c[2]||(c[2]=C=>e(a).radius=C),u]},{default:m(()=>[f(e(Et),{id:"radius",class:"w-full bg-white dark:bg-gray-800"},{default:m(()=>[f(e(It),{placeholder:"Sélectionner un rayon"})]),_:1}),f(e(Lt),null,{default:m(()=>[f(e(le),{value:"5"},{default:m(()=>[...c[11]||(c[11]=[B("5 km",-1)])]),_:1}),f(e(le),{value:"10"},{default:m(()=>[...c[12]||(c[12]=[B("10 km",-1)])]),_:1}),f(e(le),{value:"25"},{default:m(()=>[...c[13]||(c[13]=[B("25 km",-1)])]),_:1}),f(e(le),{value:"50"},{default:m(()=>[...c[14]||(c[14]=[B("50 km",-1)])]),_:1}),f(e(le),{value:"100"},{default:m(()=>[...c[15]||(c[15]=[B("100 km",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),n("div",Ms,[f(e(ne),null,{default:m(()=>[...c[16]||(c[16]=[B("Catégories",-1)])]),_:1}),f(Ss,{modelValue:e(a).categories,"onUpdate:modelValue":[c[3]||(c[3]=C=>e(a).categories=C),u]},null,8,["modelValue"])]),n("div",Os,[f(e(ne),{class:"flex items-center gap-2"},{default:m(()=>[...c[17]||(c[17]=[B(" Filtrer par organisation ",-1)])]),_:1}),f(xs,{modelValue:e(a).organizations,"onUpdate:modelValue":[c[4]||(c[4]=C=>e(a).organizations=C),u]},null,8,["modelValue"])])])])])])],2))}},Ds=["src","alt"],Us={key:1,class:"flex h-full w-full items-center justify-center bg-accent/10 text-muted-foreground/30"},Hs={class:"flex flex-grow flex-col p-4"},Ns={class:"flex-grow"},Gs={class:"line-clamp-1 font-semibold text-foreground transition-colors duration-200 group-hover:text-primary"},Ws={class:"text-sm"},Qs={class:"font-semibold text-foreground"},Xs={class:"mt-2 space-y-2 text-xs text-muted-foreground"},Js={class:"truncate"},Ys={class:"mt-2 flex items-center text-xs text-muted-foreground"},Zs={class:"truncate"},eo={__name:"EquipmentCard",props:{equipment:{type:Object,required:!0}},setup(t){const l=t,s=V(!1),i=R(()=>l.equipment.images&&l.equipment.images.length>0),d=()=>{s.value=!0},r=o=>o==null?"":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(o);return(o,a)=>(p(),I(e(De),{href:o.route("equipments.show",t.equipment),class:"group relative flex flex-col overflow-hidden rounded-xl border border-border/50 bg-card shadow-sm transition-all duration-200 hover:shadow-lg"},{default:m(()=>{var u,h,_,c;return[n("div",{class:Q(["relative block aspect-[4/3] overflow-hidden",{shimmer:i.value&&!s.value}])},[i.value?(p(),k("img",{key:0,src:(u=t.equipment.images[0])==null?void 0:u.url,alt:t.equipment.name,loading:"lazy",class:Q(["h-full w-full object-cover transition-all duration-300 group-hover:scale-105",{"opacity-0":!s.value}]),onLoad:d},null,42,Ds)):(p(),k("div",Us,[f(e(Wt),{class:"h-12 w-12"})]))],2),n("div",Hs,[n("div",Ns,[n("h3",Gs,E(t.equipment.name),1),n("div",Ws,[n("span",Qs,E(r(t.equipment.rental_price)),1),a[0]||(a[0]=n("span",{class:"text-sm text-muted-foreground"}," / jour",-1))]),n("div",Xs,[n("span",Js,E(((h=t.equipment.organization)==null?void 0:h.name)||"Particulier")+" - "+E(((_=t.equipment.depot)==null?void 0:_.city)||"Non localisé"),1)]),n("div",Ys,[f(e(ca),{class:"mr-2 h-4 w-4"}),n("span",Zs,E(((c=t.equipment.category)==null?void 0:c.name)||"Sans catégorie"),1)])])])]}),_:1},8,["href"]))}},to={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ao={key:0,class:"min-h-[400px] flex flex-col items-center justify-center"},so={key:1,class:"min-h-[400px] flex flex-col items-center justify-center text-center"},oo={class:"w-24 h-24 text-muted-foreground mb-6"},lo={class:"text-xl font-medium text-foreground"},no={class:"mt-2 text-base text-muted-foreground max-w-md"},ro={key:2},io={class:"mb-6 flex items-center justify-between"},uo={class:"text-lg font-medium text-foreground"},co={class:"text-sm text-muted-foreground"},fo={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},mo={class:"mt-12 flex justify-center"},po={__name:"ResultsSection",props:{equipments:{type:Object,required:!0},equipments_pagination:{type:Object,required:!0},filters:{type:Object,default:()=>({})},startDate:{type:String,default:""},endDate:{type:String,default:""},isSearching:{type:Boolean,default:!1}},setup(t){const l=t,s=R(()=>l.equipments.length>0),i=R(()=>l.filters.search||l.filters.categories&&l.filters.categories.length>0||l.filters.organizations&&l.filters.organizations.length>0||l.filters.radius||l.filters.city||l.filters.postcode);return(d,r)=>(p(),k("div",to,[t.isSearching?(p(),k("div",ao,[...r[0]||(r[0]=[n("div",{class:"w-16 h-16 mb-4"},[n("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})],-1),n("h3",{class:"text-lg font-medium text-foreground"},"Recherche en cours...",-1),n("p",{class:"mt-2 text-sm text-muted-foreground"}," Nous recherchons les meilleurs équipements pour vous ",-1)])])):s.value?(p(),k("div",ro,[n("div",io,[n("h2",uo,E(t.equipments_pagination.total)+" équipement"+E(t.equipments_pagination.total>1?"s":"")+" trouvé"+E(t.equipments_pagination.total>1?"s":""),1),n("p",co,E(t.equipments.length)+" affiché"+E(t.equipments.length>1?"s":"")+" sur "+E(t.equipments_pagination.total),1)]),n("div",fo,[(p(!0),k(G,null,W(t.equipments,(o,a)=>(p(),I(eo,{key:`${o.id}-${o.updated_at}`,equipment:o,"start-date":t.startDate,"end-date":t.endDate,class:"transition-all duration-300 ease-in-out animate-fade-in",style:yt({animationDelay:`${a*50}ms`})},null,8,["equipment","start-date","end-date","style"]))),128))]),n("div",mo,[t.equipments_pagination.last_page>t.equipments_pagination.current_page?(p(),I(e(xt),{key:0,always:"",params:{data:{page:t.equipments_pagination.current_page+1},only:["equipments","equipments_pagination"]}},{fallback:m(()=>[...r[1]||(r[1]=[n("div",{class:"flex items-center space-x-2"},[n("div",{class:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),n("span",{class:"text-sm text-muted-foreground"},"Chargement...")],-1)])]),_:1},8,["params"])):A("",!0)])])):(p(),k("div",so,[n("div",oo,[i.value?(p(),I(e(da),{key:0,class:"w-full h-full"})):(p(),I(e(ua),{key:1,class:"w-full h-full"}))]),n("h3",lo,E(i.value?"Aucun équipement trouvé":"Commencez votre recherche"),1),n("p",no,E(i.value?"Essayez de modifier vos critères de recherche pour trouver plus de résultats.":"Utilisez la barre de recherche ci-dessus pour trouver l'équipement dont vous avez besoin."),1)]))]))}},vo=300,ho={__name:"BackToTop",setup(t){const l=V(!1),s=()=>{l.value=window.scrollY>vo},i=()=>{window.scrollTo({top:0,behavior:"smooth"})};return te(()=>{window.addEventListener("scroll",s)}),pe(()=>{window.removeEventListener("scroll",s)}),(d,r)=>(p(),I(Ue,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform translate-y-2 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform translate-y-2 opacity-0"},{default:m(()=>[Ve(n("button",{onClick:i,class:"fixed bottom-6 right-6 z-50 flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground shadow-lg hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-all duration-200 hover:scale-110","aria-label":"Retour en haut"},[f(e(Qt),{class:"h-5 w-5"})],512),[[_t,l.value]])]),_:1}))}},go={key:0,class:"relative"},Xo={__name:"Home",props:{equipments:{type:Object,required:!0},equipments_pagination:{type:Object,required:!0},filters:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({min_price:0,max_price:1e3,categories:[]})}},setup(t){const l=V(!1),s=Se(),i=s.props.name,d=s.props.auth.user;return(r,o)=>(p(),I(bt,{title:"Location et prêt de matériel événementiel",description:`${e(i)} facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements.`},{default:m(()=>[e(d)?A("",!0):(p(),k("section",go,[f(Ua)])),n("section",null,[f(Ps,{filters:t.filters,stats:t.stats,onSearching:o[0]||(o[0]=a=>l.value=a)},null,8,["filters","stats"])]),n("section",{class:Q(["relative py-12 bg-gradient-to-b from-background via-background/50 to-background",{"mt-8":t.equipments.length>0}])},[f(po,{equipments:t.equipments,equipments_pagination:t.equipments_pagination,filters:t.filters,"start-date":t.filters.start_date,"end-date":t.filters.end_date,isSearching:l.value},null,8,["equipments","equipments_pagination","filters","start-date","end-date","isSearching"])],2),f(ho)]),_:1},8,["description"]))}};export{Xo as default};
