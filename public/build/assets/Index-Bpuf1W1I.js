import{q as L,H as P,u as R,c as f,w as s,a as l,b as a,g as v,h as q,d as t,f as G,e as n,o as r,F as B,r as F,t as d,G as y,l as H}from"./app-Cgyqco5e.js";import{_ as J}from"./AppLayout-DB4VioH2.js";import{_ as K}from"./Pagination-BsJG8Ngs.js";import{_ as $}from"./index-CfrgMgmj.js";import{_ as S,a as T}from"./CardContent.vue_vue_type_script_setup_true_lang-VjQfOjPI.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-DX9VCuGY.js";import{_ as w}from"./Label.vue_vue_type_script_setup_true_lang-CBumIBXi.js";import{_ as W,a as X,b as U,c as k,d as Y,e as b}from"./TableHeader.vue_vue_type_script_setup_true_lang-APZDFrKz.js";import{_ as D,a as I,b as M,c as O,d as p}from"./SelectValue.vue_vue_type_script_setup_true_lang-CIalDINk.js";import{A as Z,a as ee}from"./arrow-up-down-C5al27Xe.js";import{A as te}from"./arrow-up-DUUT2D-5.js";import"./FlashMessage-BkxJg_3D.js";import"./UserDropdown-Z_lunlqk.js";import"./createLucideIcon-DwRVYtr5.js";import"./Teleport-BUs9OIgV.js";import"./useForwardExpose-43cBTImL.js";import"./index-B_Hr3V4-.js";import"./package-DPeVUDVU.js";import"./loader-circle-BHkOripO.js";import"./useNonce-D95asP_8.js";import"./chevron-down-B-OnXKJy.js";import"./nullish-DiobDxmp.js";import"./useFormControl-DHtmIYDU.js";const se={class:"flex justify-between items-center"},ae={class:"font-semibold text-xl leading-tight"},le={class:"py-12"},ie={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},oe={class:"flex flex-wrap items-end gap-6"},ne={class:"flex gap-2 ml-auto"},re={key:0,class:"text-center py-12"},ue={key:1},de={class:"flex items-center space-x-2"},me={class:"flex items-center space-x-2"},fe={class:"flex items-center space-x-2"},pe={class:"flex items-center space-x-2"},ce={class:"text-sm text-muted-foreground truncate max-w-40 lg:max-w-96"},_e={class:"max-w-40 flex flex-col"},ve={class:"truncate font-medium"},ge={class:"text-xs text-muted-foreground"},xe={key:0,class:"mt-6"},ye={class:"flex items-center justify-between"},$e={class:"flex items-center space-x-2"},ke={class:"text-sm text-muted-foreground"},He={__name:"Index",props:{organization:{type:Object,required:!0},equipments:{type:Object,required:!0},filters:{type:Object,required:!0},allCategories:{type:Array,required:!0}},setup(u){var V,h,A,z,j,N;const c=u,C=L(()=>P().props.auth.user.can),o=R({search:((V=c.filters)==null?void 0:V.search)??"",category:((h=c.filters)==null?void 0:h.category)??null,condition:((A=c.filters)==null?void 0:A.condition)??null,availability:((z=c.filters)==null?void 0:z.availability)??null,sort:((j=c.filters)==null?void 0:j.sort)??"name",direction:((N=c.filters)==null?void 0:N.direction)??"asc"}),_=()=>{o.get(route("app.organizations.equipments.index"),{preserveState:!0,preserveScroll:!0})},E=()=>{o.search="",o.category=null,o.condition=null,o.availability=null,o.sort="name",o.direction="asc",_()},g=m=>{o.sort===m?o.direction=o.direction==="asc"?"desc":"asc":(o.sort=m,o.direction="asc"),_()},x=m=>o.sort!==m?Z:o.direction==="asc"?te:ee;return(m,e)=>(r(),f(J,{title:"Matériel",description:"Liste du matériel de l'organisation"},{header:s(()=>[l("div",se,[l("h2",ae," Inventaire du matériel de "+d(u.organization.name)+" ("+d(u.equipments.total)+") ",1),C.value.equipments.create?(r(),f(t($),{key:0,asChild:""},{default:s(()=>[a(t(H),{href:m.route("app.organizations.equipments.create")},{default:s(()=>[...e[7]||(e[7]=[n(" Ajouter du matériel ",-1)])]),_:1},8,["href"])]),_:1})):q("",!0)])]),default:s(()=>[l("div",le,[l("div",ie,[a(t(S),{class:"mb-6"},{default:s(()=>[a(t(T),{class:"p-4"},{default:s(()=>[l("form",{onSubmit:G(_,["prevent"])},[l("div",oe,[l("div",null,[a(t(w),{for:"search",class:"text-sm"},{default:s(()=>[...e[8]||(e[8]=[n("Rechercher",-1)])]),_:1}),a(t(Q),{id:"search",modelValue:t(o).search,"onUpdate:modelValue":e[0]||(e[0]=i=>t(o).search=i),type:"text",placeholder:"Nom, catégorie...",onInput:_},null,8,["modelValue"])]),l("div",null,[a(t(w),{for:"category",class:"text-sm"},{default:s(()=>[...e[9]||(e[9]=[n("Catégorie",-1)])]),_:1}),a(t(D),{modelValue:t(o).category,"onUpdate:modelValue":[e[1]||(e[1]=i=>t(o).category=i),_]},{default:s(()=>[a(t(I),{class:"h-9"},{default:s(()=>[a(t(M),{placeholder:"Toutes"})]),_:1}),a(t(O),null,{default:s(()=>[a(t(p),{value:null},{default:s(()=>[...e[10]||(e[10]=[n("Toutes les catégories",-1)])]),_:1}),(r(!0),v(B,null,F(u.allCategories,i=>(r(),f(t(p),{key:i.id,value:i.name},{default:s(()=>[n(d(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),l("div",null,[a(t(w),{for:"condition",class:"text-sm"},{default:s(()=>[...e[11]||(e[11]=[n("État",-1)])]),_:1}),a(t(D),{modelValue:t(o).condition,"onUpdate:modelValue":[e[2]||(e[2]=i=>t(o).condition=i),_]},{default:s(()=>[a(t(I),{class:"h-9"},{default:s(()=>[a(t(M),{placeholder:"Tous"})]),_:1}),a(t(O),null,{default:s(()=>[a(t(p),{value:null},{default:s(()=>[...e[12]||(e[12]=[n("Tous les états",-1)])]),_:1}),a(t(p),{value:"new"},{default:s(()=>[...e[13]||(e[13]=[n("Neuf",-1)])]),_:1}),a(t(p),{value:"good"},{default:s(()=>[...e[14]||(e[14]=[n("Bon",-1)])]),_:1}),a(t(p),{value:"fair"},{default:s(()=>[...e[15]||(e[15]=[n("Moyen",-1)])]),_:1}),a(t(p),{value:"poor"},{default:s(()=>[...e[16]||(e[16]=[n("Mauvais",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),l("div",ne,[a(t($),{type:"button",variant:"outline",onClick:E,size:"sm",class:"h-9"},{default:s(()=>[...e[17]||(e[17]=[n(" Réinitialiser ",-1)])]),_:1}),a(t($),{type:"submit",variant:"default",size:"sm",class:"h-9"},{default:s(()=>[...e[18]||(e[18]=[n(" Filtrer ",-1)])]),_:1})])])],32)]),_:1})]),_:1}),a(t(S),null,{default:s(()=>[a(t(T),{class:"p-6"},{default:s(()=>[u.equipments.data.length===0?(r(),v("div",re,[e[20]||(e[20]=l("p",{class:"text-muted-foreground text-lg"}," Aucun matériel trouvé ",-1)),C.value.equipments.create?(r(),f(t($),{key:0,as:"a",href:m.route("app.organizations.equipments.create",u.organization),variant:"default",class:"mt-4"},{default:s(()=>[...e[19]||(e[19]=[n(" Ajouter du matériel ",-1)])]),_:1},8,["href"])):q("",!0)])):(r(),v("div",ue,[a(t(W),null,{default:s(()=>[a(t(X),null,{default:s(()=>[a(t(U),null,{default:s(()=>[a(t(k),{class:"cursor-pointer hover:bg-muted/50",onClick:e[3]||(e[3]=i=>g("name"))},{default:s(()=>[l("div",de,[e[21]||(e[21]=l("span",null,"Nom",-1)),(r(),f(y(x("name")),{class:"w-4 h-4"}))])]),_:1}),a(t(k),{class:"cursor-pointer hover:bg-muted/50",onClick:e[4]||(e[4]=i=>g("category"))},{default:s(()=>[l("div",me,[e[22]||(e[22]=l("span",null,"Catégorie",-1)),(r(),f(y(x("category")),{class:"w-4 h-4"}))])]),_:1}),a(t(k),{class:"cursor-pointer hover:bg-muted/50",onClick:e[5]||(e[5]=i=>g("depot"))},{default:s(()=>[l("div",fe,[e[23]||(e[23]=l("span",null,"Emplacement",-1)),(r(),f(y(x("depot")),{class:"w-4 h-4"}))])]),_:1}),a(t(k),{class:"cursor-pointer hover:bg-muted/50",onClick:e[6]||(e[6]=i=>g("rental_price"))},{default:s(()=>[l("div",pe,[e[24]||(e[24]=l("span",null,"Prix/jour",-1)),(r(),f(y(x("rental_price")),{class:"w-4 h-4"}))])]),_:1})]),_:1})]),_:1}),a(t(Y),null,{default:s(()=>[(r(!0),v(B,null,F(u.equipments.data,i=>(r(),f(t(U),{key:i.id,class:"group cursor-pointer hover:bg-muted/50",onClick:be=>m.$inertia.visit(m.route("app.organizations.equipments.edit",i))},{default:s(()=>[a(t(b),{class:"font-medium"},{default:s(()=>[l("div",null,[n(d(i.name)+" ",1),l("p",ce,d(i.description),1)])]),_:2},1024),a(t(b),null,{default:s(()=>[n(d(i.category.name),1)]),_:2},1024),a(t(b),null,{default:s(()=>[l("div",_e,[l("span",ve,d(i.depot.name),1),l("span",ge,d(i.depot.city),1)])]),_:2},1024),a(t(b),null,{default:s(()=>[n(d(i.rental_price)+"€",1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),u.equipments.links&&u.equipments.links.length>3?(r(),v("div",xe,[l("div",ye,[l("div",$e,[l("span",ke," Affichage de "+d(u.equipments.from)+" à "+d(u.equipments.to)+" sur "+d(u.equipments.total)+" résultats ",1)]),a(K,{links:u.equipments.links},null,8,["links"])])])):q("",!0)])])]),_:1}))}};export{He as default};
